<div class="container">
  <div class="content">
    <!-- Left Panel -->
    <div class="left-panel">
      <div class="profile-card">
        <div class="welcome">WELCOME TO REBOUND!</div>
        <div class="barcode">
          <img src="/assets/images/barcode.png" alt="Barcode">
        </div>
        <div class="member-points">
          <span>Member point:</span>
          <span class="points">18</span>
        </div>
      </div>
      <div class="sidebar-menu">
        <div class="menu-item menu-active">Personal Information</div>
        <div class="menu-item menu-inactive" [routerLink]="'/order-detail'">
          Order Details <span class="arrow">â†’</span>
        </div>
      </div>

      <!-- Log Out Button -->
      <div class="logout-btn-container">
        <button class="btn btn-danger logout-btn" (click)="logout()">Log Out</button>
      </div>

    </div>

    <!-- Right Panel -->
    <div class="right-panel">
      <!-- Personal Information Section -->
      <div class="section">
        <div class="section-title">Personal Information</div>
        <div class="personal-info">
          <div class="user-profile">
            <div class="profile-image"></div>
            <div class="info-rows">
              <!-- Loop through personal information fields and display them -->
              <div class="info-row" *ngFor="let field of personalInfo">
                <div class="info-label">{{ field.label }}</div>

                <!-- Display data or input field if in editing mode -->
                <div *ngIf="!isEditing">{{ field.value }}</div>
                <input *ngIf="isEditing" [(ngModel)]="field.value" class="form-control" />
              </div>

              <!-- Edit/Save button for toggling editing mode -->
              <button class="btn btn-primary mt-2" (click)="saveProfile()">
                {{ isEditing ? 'Save' : 'Edit' }}
              </button>
              <!-- Cancel button -->
              <button *ngIf="isEditing" class="btn btn-secondary mt-2" (click)="cancelEdit()">Cancel</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Shipping Address Section -->
      <div class="section">
        <div class="section-title">Shipping address</div>
        <div class="shipping-address">
          <div class="address-card">
            <div class="address-header">
              <div>{{ fullName }}</div>
              <div>{{ phone }}</div>
            </div>
            <!-- Show address in view mode or input field in edit mode -->
            <div *ngIf="!isAddressEditing" class="address-text">{{ address }}</div>
            <input *ngIf="isAddressEditing" [(ngModel)]="address" class="form-control" />
            <div class="address-actions">
              <div class="form-check">
                <input type="checkbox" id="default" class="form-check-input" />
                <label class="form-check-label" for="default">Set default address</label>
              </div>
              <div class="action-buttons">
                <button class="btn btn-primary edit-btn" (click)="toggleAddressEdit()">
                  {{ isAddressEditing ? 'Save' : 'Edit' }}
                </button>
                <button class="btn btn-text delete-btn">Delete</button>
              </div>
            </div>
          </div>
          <button class="btn btn-outline-primary add-address-btn">Add more address</button>
        </div>
      </div>
    </div>
  </div>
</div>